!function(){function e(t,i,n){function r(s,a){if(!i[s]){if(!t[s]){var h="function"==typeof require&&require;if(!a&&h)return h(s,!0);if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=i[s]={exports:{}};t[s][0].call(c.exports,function(e){return r(t[s][1][e]||e)},c,c.exports,e,t,i,n)}return i[s].exports}for(var o="function"==typeof require&&require,s=0;s<n.length;s++)r(n[s]);return r}return e}()({1:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=e("./states/boot"),o=n(r),s=e("./states/preloader"),a=n(s),h=e("./states/scene_card"),u=n(h),c=e("./states/scene_custom_button"),l=n(c),f=e("./states/scene_glitch_sprite"),d=n(f),p=e("./states/scene_paper_letter"),g=n(p),b=e("./states/scene_stretching_element"),_=n(b),y=e("./states/scene_counter"),m=n(y),w=new Phaser.Game(window.innerWidth,window.innerHeight-document.body.offsetHeight,Phaser.AUTO,"game_canvas");w.state.add("boot",new o.default),w.state.add("preloader",new a.default),w.state.add("scene_card",new u.default),w.state.add("scene_custom_button",new l.default),w.state.add("scene_glitch_sprite",new d.default),w.state.add("scene_paper_letter",new g.default),w.state.add("scene_stretching_element",new _.default),w.state.add("scene_counter",new m.default),w.state.start("boot"),window.change_scene=function(e){w.state.start(e)}},{"./states/boot":2,"./states/preloader":3,"./states/scene_card":4,"./states/scene_counter":5,"./states/scene_custom_button":6,"./states/scene_glitch_sprite":7,"./states/scene_paper_letter":8,"./states/scene_stretching_element":9}],2:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(e){function t(){return n(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return o(t,e),s(t,[{key:"preload",value:function(){this.load.image("preloader","assets/preloader.gif"),this.game.load.json("assets","./assets.json"),this.game.add.plugin(PhaserInput.Plugin)}},{key:"create",value:function(){this.game.input.maxPointers=1,this.game.scale.scaleMode=Phaser.ScaleManager.EXACT_FIT,this.game.scale.pageAlignHorizontally=!0,this.game.scale.pageAlignVertically=!0;this.game.state.start("preloader")}},{key:"setupResolutionSettings",value:function(e){var t=e.defaultWidth,i=e.defaultHeight,n=window.innerWidth,r=window.innerHeight,o=t/i,s=n/r,a=t,h=i;s<o?(h=2*Math.ceil(a/s/2),e.useStretchThreshold&&(h=Math.min(h,e.stretchThresholdHeight))):(a=2*Math.ceil(h*s/2),e.useStretchThreshold&&(a=Math.min(a,e.stretchThresholdWidth)));var u=n/a,c=r/h;this.game.scale.setGameSize(a,h),this.game.scale.setUserScale(u,c),this.game.screenSettings.defaultWidth=t,this.game.screenSettings.defaultHeight=i,this.game.screenSettings.gameWidth=a,this.game.screenSettings.gameHeight=h,this.game.screenSettings.scaleX=u,this.game.screenSettings.scaleY=c,this.game.screenSettings.offsetX=(a-t)/2,this.game.screenSettings.offsetY=(h-i)/2}},{key:"initGlobalVariables",value:function(){this.game.screenSettings={defaultWidth:0,defaultHeight:0,gameWidth:0,gameHeight:0,scaleX:0,scaleY:0,offsetX:0,offsetY:0},this.game.global={}}}]),t}(Phaser.State);i.default=a},{}],3:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(e){function t(){n(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.ready=!1,e}return o(t,e),s(t,[{key:"create",value:function(){}},{key:"preload",value:function(){this.load.onLoadComplete.addOnce(this.onLoadComplete,this);var e=this.game.cache.getJSON("assets");this.loadResources(e)}},{key:"update",value:function(){this.ready&&(document.getElementById("html-select").disabled=!1,this.game.state.start("scene_card"))}},{key:"loadResources",value:function(e){for(var t=0;t<e.children.length;t+=1){var i=e.children[t];if("folder"==i.type)this.loadResources(i);else{var n=i.name.slice(0,-4);if("png"==i.name.slice(-3))if(0===n.search("spritesheet")){var r=n.search("x"),o=n.search("_"),s=parseInt(n.substring(11,r)),a=parseInt(n.substring(r+1,o)),h=n.substring(o+1);this.game.load.spritesheet(h,i.path,s,a)}else this.game.load.image(n,i.path)}}}},{key:"loadFolder",value:function(){}},{key:"onLoadComplete",value:function(){this.ready=!0}}]),t}(Phaser.State);i.default=a},{}],4:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=e("../toolbox/phaser2/card"),h=function(e){return e&&e.__esModule?e:{default:e}}(a),u=function(e){function t(){return n(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return o(t,e),s(t,[{key:"create",value:function(){this.background=this.game.add.image(0,0,"background"),this.background.scale.setTo(this.game.width/this.background.width,this.game.height/this.background.height),this.card=new h.default(this.game,this.game.width/2,this.game.height/2,"card_front","card_back",!1),this.card.setFlippable()}}]),t}(Phaser.State);i.default=u},{"../toolbox/phaser2/card":10}],5:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=e("../toolbox/phaser2/counter"),h=function(e){return e&&e.__esModule?e:{default:e}}(a),u=function(e){function t(){return n(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return o(t,e),s(t,[{key:"create",value:function(){this.background=this.game.add.image(0,0,"background"),this.background.scale.setTo(this.game.width/this.background.width,this.game.height/this.background.height),this.counter=new h.default(this.game,this.game.width/2,this.game.height/2),this.counter.x-=this.counter.width/2,this.counter.y-=this.counter.height/2,this.counter.inputEnabled=!0,this.counter.events.onInputDown.add(this.spin,this)}},{key:"spin",value:function(){var e=Math.floor(9999*Math.random());this.counter.setCounter(e)}}]),t}(Phaser.State);i.default=u},{"../toolbox/phaser2/counter":11}],6:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=e("../toolbox/phaser2/custom_button"),h=function(e){return e&&e.__esModule?e:{default:e}}(a),u=function(e){function t(){return n(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return o(t,e),s(t,[{key:"create",value:function(){this.background=this.game.add.image(0,0,"background"),this.background.scale.setTo(this.game.width/this.background.width,this.game.height/this.background.height),this.button=new h.default(this.game,this.game.width/2,this.game.height/2,"button",this._button_pressed,this)}},{key:"_button_pressed",value:function(){this.button.x=Math.random()*this.game.width,this.button.y=Math.random()*this.game.height,this.button.inputOut()}}]),t}(Phaser.State);i.default=u},{"../toolbox/phaser2/custom_button":12}],7:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=e("../toolbox/phaser2/glitch_sprite"),h=function(e){return e&&e.__esModule?e:{default:e}}(a),u=function(e){function t(){return n(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return o(t,e),s(t,[{key:"create",value:function(){this.background=this.game.add.image(0,0,"background"),this.background.scale.setTo(this.game.width/this.background.width,this.game.height/this.background.height),this.glitchsprite=new h.default(this.game,this.game.width/2,this.game.height/2,"glitch",!0),this.glitchsprite.setAnchor(.5,.5),this.glitchsprite.glitch()}}]),t}(Phaser.State);i.default=u},{"../toolbox/phaser2/glitch_sprite":13}],8:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=e("../toolbox/phaser2/paper_letter"),h=function(e){return e&&e.__esModule?e:{default:e}}(a),u=function(e){function t(){return n(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return o(t,e),s(t,[{key:"create",value:function(){this.background=this.game.add.image(0,0,"background"),this.background.scale.setTo(this.game.width/this.background.width,this.game.height/this.background.height),this.graphics=this.game.add.graphics(0,0),this.graphics.lineStyle(5,1118481,1),this.graphics.moveTo(0,this.game.height/2),this.graphics.lineTo(this.game.width,this.game.height/2),this.letter=new h.default(this.game,this.game.width+100,this.game.height/2,"letter"),this.letter.slide(this.game.width/2,this.game.height/2)}}]),t}(Phaser.State);i.default=u},{"../toolbox/phaser2/paper_letter":14}],9:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=e("../toolbox/phaser2/stretching_element"),h=function(e){return e&&e.__esModule?e:{default:e}}(a),u=function(e){function t(){return n(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return o(t,e),s(t,[{key:"create",value:function(){this.background=this.game.add.image(0,0,"background"),this.background.scale.setTo(this.game.width/this.background.width,this.game.height/this.background.height),this.element=new h.default(this.game,this.game.width/2,this.game.height/2,"apple",0),this.element.enable(),this.element.on_drop.add(function(){this.element.enable()},this)}}]),t}(Phaser.State);i.default=u},{"../toolbox/phaser2/stretching_element":15}],10:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(e){function t(e,i,o,s,a){var h=arguments.length>5&&void 0!==arguments[5]&&arguments[5];n(this,t);var u=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i,o));return u.game=e,u.yflip=h,u.anchor.set(.5),u.sides=u.game.add.image(0,0),u.shadow_scaler=u.game.add.image(0,0),u.frontSide=u.game.add.sprite(0,0,s),u.frontSide.anchor.set(.5),u.backSide=u.game.add.sprite(0,0,a),u.backSide.anchor.set(.5),u.frontSide.scale.setTo(u.backSide.width/u.frontSide.width,u.backSide.height/u.frontSide.height),u.highlight=u.game.add.sprite(0,0,"card_highlight"),u.highlight.scale.setTo((u.frontSide.width+40)/u.highlight.width,(u.frontSide.height+40)/u.highlight.height),u.highlight.anchor.set(.5),u.highlight.alpha=0,u.sides.addChild(u.highlight),u.sides.addChild(u.frontSide),u.sides.addChild(u.backSide),u.shadow=u.game.add.sprite(0,0,"card_shadow"),u.shadow.alpha=.8,u.shadow.anchor.set(.5),u.shadow.scale.setTo(u.frontSide.width/u.shadow.width,u.frontSide.height/u.shadow.height),u.shadow_scaler.addChild(u.shadow),u.addChild(u.shadow_scaler),u.addChild(u.sides),u.frontUp=!0,u.setSide(!0),u.flipTween=null,u.shadowTween=null,u.flipState=0,u.verticalFlip=h,u.shadowHoverTween=null,u.sidesHoverTween=null,u.flipped=new Phaser.Signal,u.game.add.existing(u),u}return o(t,e),s(t,[{key:"setBackSide",value:function(e){this.backSide.loadTexture(e),this.backSide.scale.set(1),this.backSide.scale.setTo(this.frontSide.width/this.backSide.width,this.frontSide.height/this.backSide.height)}},{key:"setHovering",value:function(e){arguments.length>1&&void 0!==arguments[1]&&!arguments[1]?(this.sides.x=-e,this.sides.y=-e,this.shadow.x=e,this.shadow.y=e):(this.shadowHoverTween&&(this.shadowHoverTween.stop(),this.sidesHoverTween.stop()),this.game.add.tween(this.sides).to({x:-e,y:-e},500,Phaser.Easing.Cubic.Out,!0),this.game.add.tween(this.shadow).to({x:e,y:e},500,Phaser.Easing.Cubic.Out,!0))}},{key:"flip",value:function(){(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&this.flipped.dispatch(this),this.bringToTop();var e=this.verticalFlip;this.flipTween&&(this.flipTween.stop(),this.shadowTween.stop()),0==this.flipState||2==this.flipState?!1===e?(this.flipTween=this.game.add.tween(this.sides.scale).to({x:0,y:1.2},400,Phaser.Easing.Cubic.In,!0),this.shadowTween=this.game.add.tween(this.shadow_scaler.scale).to({x:.1,y:1.1},400,Phaser.Easing.Cubic.In,!0),this.flipState=1,this.flipTween.onComplete.add(function(){this.setSide(!this.frontUp),this.flip(!1)},this)):(this.flipTween=this.game.add.tween(this.sides.scale).to({x:1.2,y:0},400,Phaser.Easing.Cubic.In,!0),this.shadowTween=this.game.add.tween(this.shadow_scaler.scale).to({x:1.1,y:.1},400,Phaser.Easing.Cubic.In,!0),this.flipState=1,this.flipTween.onComplete.add(function(){this.setSide(!this.frontUp),this.flip(!1)},this)):1==this.flipState&&(this.flipTween=this.game.add.tween(this.sides.scale).to({x:1,y:1},400,Phaser.Easing.Cubic.Out,!0),this.shadowTween=this.game.add.tween(this.shadow_scaler.scale).to({x:1,y:1},400,Phaser.Easing.Cubic.Out,!0),this.flipState=2)}},{key:"setSide",value:function(e){this.frontUp=e,this.frontSide.alpha=e?1:0,this.backSide.alpha=e?0:1}},{key:"unsetFlippable",value:function(){this.setHovering(0),this.highlight.alpha=0,this.events.onInputDown.removeAll(),this.events.onInputOver.removeAll(),this.events.onInputOut.removeAll(),this.inputEnabled=!1}},{key:"setFlippable",value:function(){this.inputEnabled=!0,this.setHovering(5),this.events.onInputDown.add(function(){this.flip()},this),this.game.device.desktop&&(this.events.onInputOver.add(function(){this.highlight.alpha=1,this.setHovering(10),this.bringToTop()},this),this.events.onInputOut.add(function(){this.highlight.alpha=0,this.setHovering(5)},this))}}]),t}(Phaser.Sprite);i.default=a},{}],11:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(e){function t(e,i,o){n(this,t);var s=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i,o,"mcdu"));s.game=e;var a=[new Phaser.Point(22,81),new Phaser.Point(78,79),new Phaser.Point(81,158),new Phaser.Point(25,159)],h=[new Phaser.Point(84,78),new Phaser.Point(139,78),new Phaser.Point(141,159),new Phaser.Point(87,160)],u=[new Phaser.Point(144,76),new Phaser.Point(200,75),new Phaser.Point(202,158),new Phaser.Point(145,159)],c=[new Phaser.Point(205,76),new Phaser.Point(261,74),new Phaser.Point(259,159),new Phaser.Point(207,159)];s.overSprite=s.game.add.sprite(0,0,"mcdu");var l=s.game.add.graphics(0,0);l.beginFill(16777215),l.drawPolygon(a),l.drawPolygon(h),l.drawPolygon(u),l.drawPolygon(c),l.endFill(),s.addChild(l),s.overSprite.mask=l,s.addChild(s.overSprite),s.slots=[],s.slots_pos=[0,0,0,0],s.slots.push(s.game.add.sprite(52,116)),s.slots.push(s.game.add.sprite(114,116)),s.slots.push(s.game.add.sprite(174,116)),s.slots.push(s.game.add.sprite(232,116));for(var f=0;f<s.slots.length;f++)s.overSprite.addChild(s.slots[f]);s.slot_offset=60;for(var f=0;f<4;f++)for(var d=0;d<10;d++){var p=s.game.add.text(0,-d*s.slot_offset,d,{font:"50px Arial"});p.anchor.set(.5),s.slots[f].addChild(p)}return s.game.add.existing(s),s}return o(t,e),s(t,[{key:"addToDigit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.slots_pos[e]+=t,this.game.add.tween(this.slots[e]).to({y:116+this.slots_pos[e]*this.slot_offset},2e3,Phaser.Easing.Elastic.Out,!0)}},{key:"subToDigit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.slots_pos[e]-=t,this.game.add.tween(this.slots[e]).to({y:116+this.slots_pos[e]*this.slot_offset},2e3,Phaser.Easing.Elastic.Out,!0)}},{key:"isCorrect",value:function(){return!(this.slots_pos[0]>9||this.slots_pos[1]>9||this.slots_pos[2]>9||this.slots_pos[3]>9)}},{key:"getNumber",value:function(){var e=0;return e+=this.slots_pos[3],e+=10*this.slots_pos[2],e+=100*this.slots_pos[1],e+=1e3*this.slots_pos[0]}},{key:"setCounter",value:function(e){var t=[0,0,0,0];t[3]=e%10,t[2]=Math.floor(e/10)%10,t[1]=Math.floor(e/100)%10,t[0]=Math.floor(e/1e3);for(var i=0;i<4;i++)this.game.add.tween(this.slots[i]).to({y:116+t[i]*this.slot_offset},2e3,Phaser.Easing.Elastic.Out,!0);this.slots_pos=t}}]),t}(Phaser.Sprite);i.default=a},{}],12:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(e){function t(e,i,o,s,a,h){n(this,t);var u=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i,o-e.cache.getImage(s).height/2,s,a,h,void 0,0,0));return u.anchor.setTo(.5,.5),u.game=e,u.onInputOver.add(u.inputOver,u),u.onInputOut.add(u.inputOut,u),u.defaultScale=1,u.hover_button=!1,e.add.existing(u),u}return o(t,e),s(t,[{key:"set_hover_button",value:function(e){this.hover_button=!!e}},{key:"setScale",value:function(e){this.defaultScale=e,this.scale.setTo(this.defaultScale,this.defaultScale)}},{key:"inputOver",value:function(){this.hover_button||this.game.add.tween(this.scale).to({x:1.1*this.defaultScale,y:1.1*this.defaultScale},500,Phaser.Easing.Cubic.Out,!0)}},{key:"inputOut",value:function(){this.hover_button||this.game.add.tween(this.scale).to({x:this.defaultScale,y:this.defaultScale},500,Phaser.Easing.Cubic.Out,!0)}}]),t}(Phaser.Button);i.default=a},{}],13:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(e){function t(e,i,o,s){var a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],h=arguments.length>5&&void 0!==arguments[5]?arguments[5]:3500;n(this,t);var u=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i,o));u.game.add.existing(u),u.game=e,u.glitch_timer=a,u.image_width=u.game.cache.getImage(s).width,u.image_height=u.game.cache.getImage(s).height;var c=new Phaser.Rectangle(0,0,0,0);c.width=u.image_width,c.height=u.image_height/4,u.textures=[];for(var l=0;l<4;l++){var f=u.game.add.image(0,0,s);f.y=f.height/4*l,c.y=f.height/4*l,f.crop(c),u.addChild(f),u.textures.push(f)}u.glitch_xoffset=50;var h=3500+1e3*Math.random();return u.glitchtimer=u.game.time.create(),u.glitchtimer.loop(h,function(){this._glitch(),this.temp_timer&&this.temp_timer.destroy(),this.temp_timer=this.game.time.create(),this.temp_timer.add(100,this._glitch,this),this.temp_timer.add(200,this._glitch,this),this.temp_timer.add(300,this.restore,this),this.temp_timer.start()},u),u.glitch_timer&&u.glitchtimer.start(),u}return o(t,e),s(t,[{key:"setAnchor",value:function(e,t){for(var i=0;i<this.textures.length;i++)this.textures[i].anchor.setTo(e,t)}},{key:"glitch",value:function(){this._glitch(),this.temp_timer&&this.temp_timer.destroy(),this.temp_timer=this.game.time.create(),this.temp_timer.add(100,this._glitch,this),this.temp_timer.add(200,this._glitch,this),this.temp_timer.add(300,this.restore,this),this.temp_timer.start()}},{key:"_glitch",value:function(){for(var e=0;e<this.textures.length;e++)this.textures[e].x=Math.random()*(2*this.glitch_xoffset)-this.glitch_xoffset}},{key:"restore",value:function(){for(var e=0;e<this.textures.length;e++)this.textures[e].x=0}}]),t}(Phaser.Sprite);i.default=a},{}],14:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(e){function t(e,i,o,s){n(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i,o,s));return a.game=e,a.anchor.setTo(75/a.width,71/a.height),a.game.add.existing(a),a}return o(t,e),s(t,[{key:"slide",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.game.add.tween(this).to({x:e},1e3,Phaser.Easing.Cubic.Out,!0,i),this.game.add.tween(this).to({y:t},1e3,Phaser.Easing.Cubic.Out,!0,i);var n=null;n=e>this.x?this.game.add.tween(this).to({angle:30},200,Phaser.Easing.Quadratic.Out,!0,i):this.game.add.tween(this).to({angle:-30},200,Phaser.Easing.Quadratic.Out,!0,i),n.onComplete.add(function(){this.game.add.tween(this).to({angle:0},1400,Phaser.Easing.Elastic.Out,!0,300)},this)}}]),t}(Phaser.Sprite);i.default=a},{}],15:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(e){function t(e,i,o,s,a){n(this,t);var h=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i,o));return h.image=s,h.game=e,h.anchor.setTo(.5,.5),h.tx=i,h.ty=o,h.image_angle=a,h.render_sprite=new Phaser.Sprite(h.game,0,0,h.image),h.render_sprite.anchor.setTo(.5,.5),h.addChild(h.render_sprite),h.distortable=!0,h.mouse_anchor=new Phaser.Point,h.mouse_center=new Phaser.Point,h.update_distort=!1,h.update_pos=!1,h.render_sprite.inputEnabled=!0,h.render_sprite.input.useHandCursor=!0,h.render_sprite.input.pixelPerfectOver=!0,h.render_sprite.input.pixelPerfectClick=!0,h.render_sprite.events.onInputDown.add(h.inputDown,h),h.render_sprite.events.onInputUp.add(h.inputUp,h),h.render_sprite.angle=h.image_angle,h.render_sprite.inputEnabled=!1,h.on_drop=new Phaser.Signal,h.on_pop=new Phaser.Signal,h.game.add.existing(h),h}return o(t,e),s(t,[{key:"disable",value:function(){this.render_sprite.inputEnabled=!1}},{key:"enable",value:function(){this.distortable=!0,this.render_sprite.inputEnabled=!0,this.render_sprite.input.useHandCursor=!0,this.render_sprite.input.pixelPerfectOver=!0,this.render_sprite.input.pixelPerfectClick=!0}},{key:"update",value:function(){this.update_distort&&(1==this.distortable&&(this.mouse_angle=Phaser.Point.angle(this.mouse_anchor,new Phaser.Point(this.game.input.x,this.game.input.y)),this.x=this.game.input.x+this.mouse_center.x,this.y=this.game.input.y+this.mouse_center.y,this.scale.x=1+.015*Phaser.Point.distance(this.mouse_anchor,new Phaser.Point(this.game.input.x,this.game.input.y)),
this.render_sprite.angle=-Phaser.Math.radToDeg(this.mouse_angle)+this.image_angle,this.angle=Phaser.Math.radToDeg(this.mouse_angle)),(this.scale.x>2||0==this.distortable)&&(this.distortable&&(this.on_pop.dispatch(this,this.position),this.taken_wobble()),this.distortable=!1,this.update_distort=!1,this.update_pos=!0)),this.update_pos&&(this.x=this.game.input.x+this.mouse_center.x,this.y=this.game.input.y+this.mouse_center.y)}},{key:"reset",value:function(){this.distortable=!0,this.wobble(!0)}},{key:"inputDown",value:function(){this.mouse_anchor.x=this.game.input.x,this.mouse_anchor.y=this.game.input.y,this.mouse_center.x=this.x-this.mouse_anchor.x,this.mouse_center.y=this.y-this.mouse_anchor.y,this.update_distort=!0}},{key:"inputUp",value:function(){this.update_distort&&this.distortable?(this.wobble(!1),this.update_distort=!1):this.update_pos&&(this.tx=this.x,this.ty=this.y,this.update_pos=!1,this.on_drop.dispatch(this,this.position))}},{key:"wobble",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&(this.scale.x=1.6,this.scale.y=1.6),this.game.add.tween(this.scale).to({x:1,y:1},500,Phaser.Easing.Bounce.Out,!0),this.game.add.tween(this).to({x:this.tx,y:this.ty},500,Phaser.Easing.Bounce.Out,!0)}},{key:"taken_wobble",value:function(){this.scale.x=1.8,this.scale.y=2,this.game.add.tween(this.scale).to({x:1,y:1},1e3,Phaser.Easing.Bounce.Out,!0)}}]),t}(Phaser.Sprite);i.default=a},{}]},{},[1]);
